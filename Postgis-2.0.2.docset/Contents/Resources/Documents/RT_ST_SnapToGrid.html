<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>ST_SnapToGrid</title><link rel="stylesheet" href="style.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="PostGIS 2.0.2SVN Manual"><link rel="up" href="RT_reference.html#Raster_Editors" title="9.7. Raster Editors"><link rel="prev" href="RT_ST_Reskew.html" title="ST_Reskew"><link rel="next" href="RT_ST_Transform.html" title="ST_Transform"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">ST_SnapToGrid</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="RT_ST_Reskew.html">Prev</a> </td><th width="60%" align="center">9.7. Raster Editors</th><td width="20%" align="right"> <a accesskey="n" href="RT_ST_Transform.html">Next</a></td></tr></table><hr></div><div class="refentry" lang="en"><a name="RT_ST_SnapToGrid"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>ST_SnapToGrid &#8212; Resample a raster by snapping it to a grid. New pixel values are computed using the NearestNeighbor (english or american spelling), Bilinear, Cubic, CubicSpline or Lanczos resampling algorithm. Default is NearestNeighbor.
				    </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">raster <b class="fsfunc">ST_SnapToGrid</b>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">gridx</var>, double precision  <var class="pdparam">gridy</var>, text  <var class="pdparam">algorithm=NearestNeighbour</var>, double precision  <var class="pdparam">maxerr=0.125</var>, double precision  <var class="pdparam">scalex=DEFAULT 0</var>, double precision  <var class="pdparam">scaley=DEFAULT 0</var><code>)</code>;</p><p><code class="funcdef">raster <b class="fsfunc">ST_SnapToGrid</b>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">gridx</var>, double precision  <var class="pdparam">gridy</var>, double precision  <var class="pdparam">scalex</var>, double precision  <var class="pdparam">scaley</var>, text  <var class="pdparam">algorithm=NearestNeighbour</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p><p><code class="funcdef">raster <b class="fsfunc">ST_SnapToGrid</b>(</code>raster  <var class="pdparam">rast</var>, double precision  <var class="pdparam">gridx</var>, double precision  <var class="pdparam">gridy</var>, double precision  <var class="pdparam">scalexy</var>, text  <var class="pdparam">algorithm=NearestNeighbour</var>, double precision  <var class="pdparam">maxerr=0.125</var><code>)</code>;</p></div></div><div class="refsection" lang="en"><a name="id3030947"></a><h2>Description</h2><p>Resample a raster by snapping it to a grid defined by an arbitrary pixel corner (gridx &amp; gridy) and optionally a pixel size (scalex &amp; scaley). New pixel values are computed using the NearestNeighbor (english or american spelling), Bilinear, Cubic, CubicSpline or Lanczos resampling algorithm. The default is NearestNeighbor which is the fastest but results in the worst interpolation.</p><p><code class="varname">gridx</code> and <code class="varname">gridy</code> define any arbitrary pixel corner of the new grid. This is not necessarily the upper left corner of the new raster and it does not have to be inside or on the edge of the new raster extent.</p><p>You can optionnal define the pixel size of the new grid with <code class="varname">scalex</code> and <code class="varname">scaley</code>.</p><p>The extent of the new raster will encompass the extent of the provided raster.</p><p>A maxerror percent of 0.125 if no <code class="varname">maxerr</code> is specified.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>Only works if raster is in a known spatial reference system (SRID).</p></td></tr></table></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>Refer to: <a href="http://www.gdal.org/gdalwarp.html" target="_top">GDAL Warp resampling methods</a> for more details. </p></td></tr></table></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>Use <a href="RT_ST_Resample.html" title="ST_Resample">ST_Resample</a> if you need more control over the grid parameters.</p></td></tr></table></div><p>Availability: 2.0.0  Requires GDAL 1.6.1+</p></div><div class="refsection" lang="en"><a name="id3031040"></a><h2>Examples</h2><p>A simple example snapping a raster to a slightly different grid.</p><pre class="programlisting">-- the original raster pixel size
SELECT ST_UpperLeftX(ST_AddBand(ST_MakeEmptyRaster(10, 10, 0, 0, 0.001, -0.001, 0, 0, 4269), '8BUI'::text, 1, 0))
					
-- the rescaled raster raster pixel size
SELECT ST_UpperLeftX(ST_SnapToGrid(ST_AddBand(ST_MakeEmptyRaster(10, 10, 0, 0, 0.001, -0.001, 0, 0, 4269), '8BUI'::text, 1, 0), 0.0002, 0.0002))
                    </pre></div><div class="refsection" lang="en"><a name="id3031063"></a><h2>See Also</h2><p><a href="RT_ST_Resample.html" title="ST_Resample">ST_Resample</a>, <a href="RT_ST_Rescale.html" title="ST_Rescale">ST_Rescale</a>, <a href="RT_ST_UpperLeftX.html" title="ST_UpperLeftX">ST_UpperLeftX</a>, <a href="RT_ST_UpperLeftY.html" title="ST_UpperLeftY">ST_UpperLeftY</a></p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="RT_ST_Reskew.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="RT_reference.html#Raster_Editors">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="RT_ST_Transform.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">ST_Reskew </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> ST_Transform</td></tr></table></div></body></html>
